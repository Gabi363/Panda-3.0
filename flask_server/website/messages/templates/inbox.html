{% extends "base.html" %}
{% set active_page = "messages" %}

{% block title %}Inbox{% endblock %}
{% block content %}
<main class="container">
    <h1>Inbox</h1>
    <a href="{{ url_for('messages.sendMessage') }}" class="btn btn-primary mb-4">Send New Message</a>
    <hr>
    <h3>Received Messages</h3>
    {% for msg in received_messages %}
        <div class="card mb-3">
            <div class="card-header">
                From: {{ msg.sender_email() }} | To: {{ msg.receiver_email() }} | Subject: {{ msg.subject }} | Date: {{ msg.send_date.strftime("%d-%m-%Y %H:%M") }}
            </div>
            <div class="card-body">
                <p>{{ msg.body }}</p>
            </div>
        </div>
    {% endfor %}

    <h3 class="mt-5">Sent Messages</h3>
    {% for msg in sent_messages %}
        <div class="card mb-3">
            <div class="card-header">
                From: {{ msg.sender_email() }} | To: {{ msg.receiver_email() }} | Subject: {{ msg.subject }} | Date: {{ msg.send_date.strftime("%d-%m-%Y %H:%M") }}
            </div>
            <div class="card-body">
                <p>{{ msg.body }}</p>
            </div>
        </div>
    {% endfor %}
</main>
{% endblock %}
